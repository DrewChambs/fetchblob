
   
<!DOCTYPE html>
<html lang="en-US">
  <head>
   <meta charset="UTF-8" />
   <meta name="viewport" content="width=device-width, initial-scale=1.0" />
   <title>A fetch Blob</title>
   
     <!-- Style sheet -->
   <link rel="stylesheet" href="blob.css" />
 
    
  </head>
  <body>
     <div class="container">
        <h1>Test the blob</h1>
        <h2>Testing page again</h2>
        <div class="img-holder"></div>
     </div>
     <script>
     console.log("Working file")
        // Establishing and testing promises        
        let promise = fetch('coffee.jpeg');
        let promise2 = promise.then(response => {
           if (!response.ok) {
             throw new Error(`HTTP error! status: ${response.status}`);
           } else {
             return response.blob();
           }
         });
        let promise3 = promise2.then(myBlob => {
        let objectURL = URL.createObjectURL(myBlob);
        let image = document.createElement('img');
           image.src = objectURL;
         //  Adding image to div
         // document.body.appendChild(image);
            document.querySelector(".img-holder").appendChild(image);        
          });
        let errorCase = promise3.catch(e => {
          console.log('There has been a problem with your fetch operation: ' + e.message);
});
     </script>
  </body>
</html>
